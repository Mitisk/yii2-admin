"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=default_1;const vanilla_ts_1=require("../../vanilla.js");const utils_ts_1=require("../../utils.js");function default_1(userOptions){const options=Object.assign({label:"&times;",title:"Remove",className:"remove",append:true},userOptions);var self=this;if(!options.append){return}var html='<a href="javascript:void(0)" class="'+options.className+'" tabindex="-1" title="'+(0,utils_ts_1.escape_html)(options.title)+'">'+options.label+"</a>";self.hook("after","setupTemplates",()=>{var orig_render_item=self.settings.render.item;self.settings.render.item=(data,escape)=>{var item=(0,vanilla_ts_1.getDom)(orig_render_item.call(self,data,escape));var close_button=(0,vanilla_ts_1.getDom)(html);item.appendChild(close_button);(0,utils_ts_1.addEvent)(close_button,"mousedown",evt=>{(0,utils_ts_1.preventDefault)(evt,true)});(0,utils_ts_1.addEvent)(close_button,"click",evt=>{if(self.isLocked)return;(0,utils_ts_1.preventDefault)(evt,true);if(self.isLocked)return;if(!self.shouldDelete([item],evt))return;self.removeItem(item);self.refreshOptions(false);self.inputState()});return item}})}