export const hash_key=value=>{if(typeof value==="undefined"||value===null)return null;return get_hash(value)};export const get_hash=value=>{if(typeof value==="boolean")return value?"1":"0";return value+""};export const escape_html=str=>{return(str+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};export const timeout=(fn,timeout)=>{if(timeout>0){return window.setTimeout(fn,timeout)}fn.call(null);return null};export const loadDebounce=(fn,delay)=>{var timeout;return function(value,callback){var self=this;if(timeout){self.loading=Math.max(self.loading-1,0);clearTimeout(timeout)}timeout=setTimeout(function(){timeout=null;self.loadedSearches[value]=true;fn.call(self,value,callback)},delay)}};export const debounce_events=(self,types,fn)=>{var type;var trigger=self.trigger;var event_args={};self.trigger=function(){var type=arguments[0];if(types.indexOf(type)!==-1){event_args[type]=arguments}else{return trigger.apply(self,arguments)}};fn.apply(self,[]);self.trigger=trigger;for(type of types){if(type in event_args){trigger.apply(self,event_args[type])}}};export const getSelection=input=>{return{start:input.selectionStart||0,length:(input.selectionEnd||0)-(input.selectionStart||0)}};export const preventDefault=(evt,stop=false)=>{if(evt){evt.preventDefault();if(stop){evt.stopPropagation()}}};export const addEvent=(target,type,callback,options)=>{target.addEventListener(type,callback,options)};export const isKeyDown=(key_name,evt)=>{if(!evt){return false}if(!evt[key_name]){return false}var count=(evt.altKey?1:0)+(evt.ctrlKey?1:0)+(evt.shiftKey?1:0)+(evt.metaKey?1:0);if(count===1){return true}return false};export const getId=(el,id)=>{const existing_id=el.getAttribute("id");if(existing_id){return existing_id}el.setAttribute("id",id);return id};export const addSlashes=str=>{return str.replace(/[\\"']/g,"\\$&")};export const append=(parent,node)=>{if(node)parent.append(node)};export const iterate=(object,callback)=>{if(Array.isArray(object)){object.forEach(callback)}else{for(var key in object){if(object.hasOwnProperty(key)){callback(object[key],key)}}}};